# FRC Challenge Site - Infrastructure Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# AWS Configuration
# =============================================================================

# AWS Region where resources will be deployed
AWS_REGION=us-east-1

# AWS Account ID (will be auto-detected if not set)
# AWS_ACCOUNT_ID=123456789012

# Deployment environment (dev, staging, prod)
ENVIRONMENT=dev

# Project name (used for resource naming)
PROJECT_NAME=frc-challenge-site

# =============================================================================
# Cognito Configuration (REQUIRED)
# =============================================================================

# Cognito User Pool ID from your existing authentication setup
# Get this from AWS Console > Cognito > User Pools
COGNITO_USER_POOL_ID=your_user_pool_id_here

# =============================================================================
# ECS Configuration (Auto-configured during deployment)
# =============================================================================

# ECS Cluster name (will be auto-generated)
# ECS_CLUSTER_NAME=frc-challenge-site-dev-cluster

# ECS Task Definition name
# ECS_TASK_DEFINITION=frc-challenge-runtime

# Private subnet IDs (will be created during infrastructure deployment)
# PRIVATE_SUBNET_1=subnet-12345
# PRIVATE_SUBNET_2=subnet-67890

# Security group for challenge runtime containers
# CHALLENGE_RUNTIME_SECURITY_GROUP=sg-abcdef

# =============================================================================
# Container Configuration
# =============================================================================

# Docker context path (relative to infrastructure directory)
DOCKER_CONTEXT=../monaco-examples/wpilib-java-language-server/docker

# Dockerfile to use for production builds (relative to infrastructure directory)
DOCKERFILE=ecr/Dockerfile.prod

# Container image tag
IMAGE_TAG=latest

# Build arguments (optional)
# BUILD_ARGS=--build-arg WPILIB_VERSION=2025.3.2

# =============================================================================
# Session Management Configuration
# =============================================================================

# Maximum concurrent sessions per user
MAX_CONCURRENT_SESSIONS=3

# Session timeout in minutes
SESSION_TIMEOUT_MINUTES=120

# Idle timeout in minutes (session terminated if no activity)
IDLE_TIMEOUT_MINUTES=30

# Default resource profile for new sessions
DEFAULT_RESOURCE_PROFILE=basic

# =============================================================================
# Monitoring and Logging
# =============================================================================

# CloudWatch log retention in days
LOG_RETENTION_DAYS=30

# Enable container insights
ENABLE_CONTAINER_INSIGHTS=true

# Enable X-Ray tracing
ENABLE_XRAY_TRACING=false

# =============================================================================
# Cost Optimization
# =============================================================================

# Use Fargate Spot for non-critical workloads
USE_FARGATE_SPOT=false

# EFS throughput mode (provisioned or bursting)
EFS_THROUGHPUT_MODE=provisioned

# EFS provisioned throughput in MiB/s (only if throughput mode is provisioned)
EFS_PROVISIONED_THROUGHPUT=100

# =============================================================================
# Development/Debug Settings
# =============================================================================

# Node.js environment
NODE_ENV=production

# Enable debug logging in Lambda functions
DEBUG_LOGGING=false

# Skip container cleanup (for debugging)
SKIP_CLEANUP=false

# =============================================================================
# Networking Configuration (Advanced)
# =============================================================================

# VPC CIDR block
VPC_CIDR=10.0.0.0/16

# Public subnet CIDR blocks
PUBLIC_SUBNET_1_CIDR=10.0.1.0/24
PUBLIC_SUBNET_2_CIDR=10.0.2.0/24

# Private subnet CIDR blocks
PRIVATE_SUBNET_1_CIDR=10.0.11.0/24
PRIVATE_SUBNET_2_CIDR=10.0.12.0/24

# =============================================================================
# Security Configuration
# =============================================================================

# Enable EFS encryption
ENABLE_EFS_ENCRYPTION=true

# Enable CloudWatch logs encryption
ENABLE_LOGS_ENCRYPTION=true

# Enable secrets manager for sensitive configuration
ENABLE_SECRETS_MANAGER=true

# =============================================================================
# Backup and Recovery
# =============================================================================

# Enable EFS backup
ENABLE_EFS_BACKUP=true

# EFS backup retention in days
EFS_BACKUP_RETENTION_DAYS=30

# Enable DynamoDB point-in-time recovery
ENABLE_DYNAMODB_PITR=true

# =============================================================================
# Custom Domain Configuration (Optional)
# =============================================================================

# Custom domain name for API
# API_DOMAIN_NAME=api.your-domain.com

# SSL certificate ARN (if using custom domain)
# SSL_CERTIFICATE_ARN=arn:aws:acm:us-east-1:123456789012:certificate/12345678-1234-1234-1234-123456789012

# Route53 hosted zone ID (if using custom domain)
# HOSTED_ZONE_ID=Z1234567890ABC

# =============================================================================
# CI/CD Configuration (Optional)
# =============================================================================

# GitHub repository for CI/CD
# GITHUB_REPO=your-org/frc-online-code-editor

# GitHub branch for deployments
# GITHUB_BRANCH=main

# Enable automated deployments
# ENABLE_AUTO_DEPLOY=false
